"use strict";(self.webpackChunkcow_docs=self.webpackChunkcow_docs||[]).push([[9821],{3905:(e,t,o)=>{o.d(t,{Zo:()=>p,kt:()=>m});var a=o(7294);function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function s(e,t){if(null==e)return{};var o,a,n=function(e,t){if(null==e)return{};var o,a,n={},r=Object.keys(e);for(a=0;a<r.length;a++)o=r[a],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)o=r[a],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var l=a.createContext({}),c=function(e){var t=a.useContext(l),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},p=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},h="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var o=e.components,n=e.mdxType,r=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),h=c(o),u=n,m=h["".concat(l,".").concat(u)]||h[u]||d[u]||r;return o?a.createElement(m,i(i({ref:t},p),{},{components:o})):a.createElement(m,i({ref:t},p))}));function m(e,t){var o=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=o.length,i=new Array(r);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[h]="string"==typeof e?e:n,i[1]=s;for(var c=2;c<r;c++)i[c]=o[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,o)}u.displayName="MDXCreateElement"},4083:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>c});var a=o(7462),n=(o(7294),o(3905));const r={},i="Introduction",s={unversionedId:"overview/introduction",id:"overview/introduction",title:"Introduction",description:"What is CoW Protocol?",source:"@site/docs/1_overview/1_introduction.md",sourceDirName:"1_overview",slug:"/overview/introduction",permalink:"/cow-docs/docs/overview/introduction",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/1_overview/1_introduction.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Overview",permalink:"/cow-docs/docs/category/overview"},next:{title:"Definitions",permalink:"/cow-docs/docs/overview/definitions"}},l={},c=[{value:"What is CoW Protocol?",id:"what-is-cow-protocol",level:2},{value:"Benefits",id:"benefits",level:3},{value:"Trading Cycle",id:"trading-cycle",level:3},{value:"Conclusion",id:"conclusion",level:3}],p={toc:c},h="wrapper";function d(e){let{components:t,...r}=e;return(0,n.kt)(h,(0,a.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"introduction"},"Introduction"),(0,n.kt)("h2",{id:"what-is-cow-protocol"},"What is CoW Protocol?"),(0,n.kt)("p",null,"CoW Protocol is a fully permissionless trading protocol that leverages ",(0,n.kt)("a",{parentName:"p",href:"batch-auctions"},"batch auctions")," as its price finding mechanism. CoW Protocol uses batch auctions to maximise liquidity via Coincidence of Wants (CoWs) in addition to tapping all available on-chain liquidity whenever needed. Batch auctions are continuously run by the protocol because the solvers, the parties in charge of finding the most optimal settlement for the batch, are in competition to settle it. The winning solver will be the one that can maximise traders' surplus by either:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Having the most optimal CoW \ud83d\udc2e"),(0,n.kt)("li",{parentName:"ol"},"Finding the best liquidity sources"),(0,n.kt)("li",{parentName:"ol"},"A combination of the above in a single settlement")),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Overview of the System",src:o(8348).Z,width:"4460",height:"2313"})),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"coincidence-of-wants"},"Coincidence of Wants (CoWs)")," are one of the most, if not the most, innovative aspects of the protocol, but what exactly are they? CoWs are settlements which share liquidity across all orders who have matching limit prices. Rather than an AMM or a CLOB, CoW Protocol uses ",(0,n.kt)("a",{parentName:"p",href:"batch-auctions"},"batch auctions")," as a core mechanism to facilitate CoWs. Using batch auctions leads to better prices for the individual traders as well as offering big savings, in terms of ",(0,n.kt)("a",{parentName:"p",href:"definitions"},"gas fee")," optimisation and ",(0,n.kt)("a",{parentName:"p",href:"definitions"},"liquidity provider fees"),". Additionally, because of batch auction ",(0,n.kt)("em",{parentName:"p"},"uniform clearing prices")," and CoWs not needing access to on-chain liquidity, CoW Protocol is able to offer the user a level of MEV protection that can not be achieved by ",(0,n.kt)("em",{parentName:"p"},"any")," other protocol."),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"../front-end/introduction"},"CoW Swap")," is the first front-end interface built on top of CoW Protocol. It acts as ",(0,n.kt)("em",{parentName:"p"},"Meta DEX aggregator"),", giving the users the best price across the aggregators or AMMs depending on which one is the most liquid venue for the trades within a batch."),(0,n.kt)("p",null,"Instead of using a central operator or a constant function market maker to determine trade settlements, CoW Protocol uses a party called ",(0,n.kt)("em",{parentName:"p"},"solver"),", who is the party in charge of providing the settlement solution to the batch auctions. For each batch auction:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Solvers compete against each other to submit the most optimal batch settlement."),(0,n.kt)("li",{parentName:"ol"},"The winning solver submits the successful batch settlement solution to the chain."),(0,n.kt)("li",{parentName:"ol"},"The protocol rewards the winning solver with tokens, incentivising the solver to solve the ",(0,n.kt)("a",{parentName:"li",href:"../off-chain-services/in-depth-solver-specification/the-batch-auction-optimisation-problem"},"batch auction optimisation problem"),".")),(0,n.kt)("p",null,"It is very important that there is healthy competition amongst solvers to ensure competitive batch optimisation, and therefore competitive clearing prices for the protocol's users. As such, ",(0,n.kt)("em",{parentName:"p"},"anyone")," can become a solver, provided the following requirements are met:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"From an ethereum address, deposit a bond in the form of tokens. The amount of the bond is determined by ",(0,n.kt)("a",{parentName:"li",href:"https://snapshot.org/cow.eth"},"CoW DAO")," with current amounts specified in ",(0,n.kt)("a",{parentName:"li",href:"https://snapshot.org/#/cow.eth/proposal/0x267edf7a0bd3c771cfca763322f011ee106d8d5158612c11da29183260d1dba7"},"CIP-7: Allowing External Solvers"),"."),(0,n.kt)("li",{parentName:"ol"},"Upon staking, propose a vote to CoW DAO to have your solver approved. If the vote is successful, the solver's ethereum address will be included in the ",(0,n.kt)("a",{parentName:"li",href:"../smart-contracts/allow-list-authenticator/introduction"},"allowlist")," (authentication) solvers contract."),(0,n.kt)("li",{parentName:"ol"},"Have the technical knowledge to create the appropriate batch settlement solutions, or take the risk of being slashed by CoW DAO for wrongdoing.")),(0,n.kt)("h3",{id:"benefits"},"Benefits"),(0,n.kt)("p",null,"CoW Protocol has a wide range of benefits, both technical and functional, but to sum it up, the main benefits it brings to the ecosystem:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Fully permissionless Meta DEX Aggregator on which anyone can trade any tokens and build ",(0,n.kt)("a",{parentName:"li",href:"../tutorials/build-on-top-of-cow-protocol"},"integrations"),";"),(0,n.kt)("li",{parentName:"ul"},"First implementation (2nd iteration) of ",(0,n.kt)("a",{parentName:"li",href:"batch-auctions"},"batch auctions")," promoting fair ",(0,n.kt)("em",{parentName:"li"},"uniform clearing prices"),";"),(0,n.kt)("li",{parentName:"ul"},"Trades are ",(0,n.kt)("strong",{parentName:"li"},"protected from different sorts of MEV such as front/back running or sandwich attacks"),";"),(0,n.kt)("li",{parentName:"ul"},"Maximised liquidity and access to all on chain liquidity;",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Best prices when CoWs are found, or at ",(0,n.kt)("em",{parentName:"li"},"least")," as good as the best DEX aggregator price if they aren't;"),(0,n.kt)("li",{parentName:"ul"},"All token pairs available for trading, off-chain order submission enables gasless ",(0,n.kt)("sup",{parentName:"li",id:"fnref-1"},(0,n.kt)("a",{parentName:"sup",href:"#fn-1",className:"footnote-ref"},"1"))," trading;"))),(0,n.kt)("li",{parentName:"ul"},"Fair, decentralised settlement in which an open competition for order matching replaces a central operator or a constant function market maker;"),(0,n.kt)("li",{parentName:"ul"},"Tokenomics ensure that solvers are competing against each other to deliver the best order settlement solution for traders in exchange for the reward of each batch auction.")),(0,n.kt)("p",null,"To date, USD$25.5B ",(0,n.kt)("sup",{parentName:"p",id:"fnref-2"},(0,n.kt)("a",{parentName:"sup",href:"#fn-2",className:"footnote-ref"},"2"))," worth of trading has trusted CoW Protocol to deliver on these benefits!"),(0,n.kt)("h3",{id:"trading-cycle"},"Trading Cycle"),(0,n.kt)("p",null,"While we call CoW Swap a META DEX Aggregator, as it may have similarities with current DEX aggregators or DEX trading protocol, CoW Protocol introduces a completely new way of trading. In comparison with other DEXs or DEX aggregator, CoW Protocol, and therefore the interfaces built on top of it (",(0,n.kt)("a",{parentName:"p",href:"https://swap.cow.fi"},"swap.cow.fi")," for example), don't require the user to send a transaction to submit a trade, but rather require the user to send a ",(0,n.kt)("em",{parentName:"p"},"signed message"),". This is because the protocol works with ",(0,n.kt)("em",{parentName:"p"},"off-chain messages"),", where the trader signs an order intent with the valid parameters they are willing to accept. This signed order is picked up by the solvers and executed in the batch auction that satisfies the users ",(0,n.kt)("strong",{parentName:"p"},"signed requirements"),"."),(0,n.kt)("p",null,"Let's get an owl's eye \ud83e\udd89 view on how the protocol's trading cycles works:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Users need to approve the ",(0,n.kt)("a",{parentName:"li",href:"../smart-contracts/vault-relayer/introduction"},"contract allowance manager")," to enable trading for a desired token. This incurs a ",(0,n.kt)("a",{parentName:"li",href:"definitions"},"transaction fee"),", but only needs to be done once per token, meaning that once you have approved a token, there aren't any more transaction fees for that token."),(0,n.kt)("li",{parentName:"ul"},"Users can place ",(0,n.kt)("em",{parentName:"li"},"limit")," sell/buy orders off-chain at any time by simply ",(0,n.kt)("em",{parentName:"li"},"signing a message")," that contains their trade details. Users don't pay any gas for posting and cancelling orders. On the other hand, the ",(0,n.kt)("strong",{parentName:"li"},"user does pay a ",(0,n.kt)("a",{parentName:"strong",href:"definitions"},"protocol fee")),"."),(0,n.kt)("li",{parentName:"ul"},"Off-chain orders are picked up by the solvers who will settle them in a batch auction.",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"At the start of a batch, all currently open orders on the protocol are considered;"),(0,n.kt)("li",{parentName:"ul"},"For each batch an open competition to submit order settlement solutions by solvers takes place;"))),(0,n.kt)("li",{parentName:"ul"},"The protocol selects the solver's order settlement solution that maximises trader welfare and provides the best clearing prices for the orders in that batch;",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"All matched orders within a batch can either be settled off-chain via the liquidity found in the CoWs across orders, or on-chain against AMM/aggregator liquidity.")))),(0,n.kt)("p",null,"From a users' perspective, a full trading cycle on CoW Protocol consists of three user actions:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Approve the allowance manager contract"),(0,n.kt)("li",{parentName:"ol"},"Sign the order you want to place."),(0,n.kt)("li",{parentName:"ol"},"Enjoy the tokens you just traded.")),(0,n.kt)("h3",{id:"conclusion"},"Conclusion"),(0,n.kt)("p",null,"We believe CoW Protocol is critical infrastructure for open finance, which will see the creation of more and more tokenized assets, and will ultimately need a reliable trading mechanism that has the users best interest in mind."),(0,n.kt)("p",null,"Ultimately, CoW Protocol is built in the spirit of permissionless innovation. Its fully ",(0,n.kt)("a",{parentName:"p",href:"road-to-decentralisation"},"decentralised")," architecture means you don't need CoW Swap to build on our protocol."),(0,n.kt)("div",{className:"footnotes"},(0,n.kt)("hr",{parentName:"div"}),(0,n.kt)("ol",{parentName:"div"},(0,n.kt)("li",{parentName:"ol",id:"fn-1"},"The user still has to pay a ",(0,n.kt)("a",{parentName:"li",href:"definitions"},(0,n.kt)("em",{parentName:"a"},"protocol fee")),".",(0,n.kt)("a",{parentName:"li",href:"#fnref-1",className:"footnote-backref"},"\u21a9")),(0,n.kt)("li",{parentName:"ol",id:"fn-2"},(0,n.kt)("a",{parentName:"li",href:"https://dune.com/cowprotocol/cowswap"},"CoW Protocol Dune Analytics dashboard"),(0,n.kt)("a",{parentName:"li",href:"#fnref-2",className:"footnote-backref"},"\u21a9")))))}d.isMDXComponent=!0},8348:(e,t,o)=>{o.d(t,{Z:()=>a});const a=o.p+"assets/images/CoW_Protocol_BatchAuctions-f723ede5112adec3342565ba508d747f.png"}}]);