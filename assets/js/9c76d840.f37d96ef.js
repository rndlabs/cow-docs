"use strict";(self.webpackChunkcow_docs=self.webpackChunkcow_docs||[]).push([[8887],{3905:(e,t,o)=>{o.d(t,{Zo:()=>d,kt:()=>m});var a=o(7294);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function n(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t){if(null==e)return{};var o,a,r=function(e,t){if(null==e)return{};var o,a,r={},n=Object.keys(e);for(a=0;a<n.length;a++)o=n[a],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)o=n[a],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},d=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},h="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var o=e.components,r=e.mdxType,n=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),h=c(o),p=r,m=h["".concat(s,".").concat(p)]||h[p]||u[p]||n;return o?a.createElement(m,i(i({ref:t},d),{},{components:o})):a.createElement(m,i({ref:t},d))}));function m(e,t){var o=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var n=o.length,i=new Array(n);i[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[h]="string"==typeof e?e:r,i[1]=l;for(var c=2;c<n;c++)i[c]=o[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,o)}p.displayName="MDXCreateElement"},5262:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>n,metadata:()=>l,toc:()=>c});var a=o(7462),r=(o(7294),o(3905));const n={},i="Road to Decentralization",l={unversionedId:"overview/road-to-decentralization",id:"overview/road-to-decentralization",title:"Road to Decentralization",description:"CoW Protocol aims to be a fully decentralized protocol, but the reality is that in order to fully be decentralized, there's still a long road to walk through. Currently, the protocol has certain parts that are more decentralized than others, and if we were to decompartmentalize the protocol into pieces, we would have the following:",source:"@site/docs/1_overview/6_road-to-decentralization.md",sourceDirName:"1_overview",slug:"/overview/road-to-decentralization",permalink:"/cow-docs/docs/overview/road-to-decentralization",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/1_overview/6_road-to-decentralization.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Learnings & Improvements of GPv1",permalink:"/cow-docs/docs/overview/learnings-and-improvements-of-gpv1"},next:{title:"Front-end",permalink:"/cow-docs/docs/category/front-end"}},s={},c=[{value:"Phase 1",id:"phase-1",level:3},{value:"Phase 2",id:"phase-2",level:3},{value:"Phase 3",id:"phase-3",level:3}],d={toc:c},h="wrapper";function u(e){let{components:t,...o}=e;return(0,r.kt)(h,(0,a.Z)({},d,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"road-to-decentralization"},"Road to Decentralization"),(0,r.kt)("p",null,"CoW Protocol aims to be a fully decentralized protocol, but the reality is that in order to fully be decentralized, there's still a long road to walk through. Currently, the protocol has certain parts that are more decentralized than others, and if we were to decompartmentalize the protocol into pieces, we would have the following:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"User Interface"),(0,r.kt)("li",{parentName:"ul"},"Smart Contracts - Allowance & Settlement Contract"),(0,r.kt)("li",{parentName:"ul"},"Order DB"),(0,r.kt)("li",{parentName:"ul"},"Solvers Algorithms")),(0,r.kt)("p",null,"Both the user interface and the smart contracts are pieces that are already at 100% level of decentralization. The UI can be used by anyone without any possible blocking as it resides in IPFS. The smart contracts have no admin key, and do not hold users' balances in them, making them fully trustless and decentralized. On the other hand, the order DB & the solvers are the parts of the protocol that need the most work to achieve decentralization, and that is why in order to do it correctly, we have decided to do it in phases rather than all at once."),(0,r.kt)("h3",{id:"phase-1"},"Phase 1"),(0,r.kt)("p",null,"Initially, the smart contract curates a list of trusted solvers (e.g. an account running the solver implementation in gp-v2-services). This list would be given to the CowDAO and will essentially control who gets to submit settlement solutions. People that want to implement solver strategies in this phase are invited to submit PRs to our repository to include their logic."),(0,r.kt)("p",null,"It will allow competition between different independent solver accounts that communicate via some sort of central managed channel. Each solver would announce the \u201cobjective value\u201d (what that value should be optimised for, is a separate topic) they have computed for the current batch auction and all together they agree on who obtains the right to settle this auction. In order to compute the objective value there needs to be consensus on what the state of the auction is (all valid orders for which surplus should be achieved). This is done via a central off-chain orderbook API (more on how to decentralize this part below). We should maybe mention here that for an order to be considered valid by the Orderbook API it needs to pay a \u201csufficient fee\u201d (to be discussed in a separate topic) to the protocol."),(0,r.kt)("p",null,"In this phase the DAO would still pay close attention to who becomes an authenticated solver as all of them should be held accountable for any possible damage done to traders caused by a malicious solver. Furthermore we expect the DAO to payout rewards (transaction costs + a % taken from accrued fees) to solvers based on their contribution."),(0,r.kt)("h3",{id:"phase-2"},"Phase 2"),(0,r.kt)("p",null,"While the core GPv2 settlement contract is not upgradable, the logic of how solvers are authenticated is upgradeable. In phase 2, we envision the DAO to put in place a permissionless model, where anyone can become an authenticated solver as long as they stake the asset and amount defined by the CowDAO. For this phase, the DAO would agree on a set of rules (e.g. under what circumstances batches are allowed to be split into multiple ones, which set of on-chain liquidity has to be at least considered for a solution, etc)."),(0,r.kt)("p",null,"Upon violation of these rules, the DAO can vote to slash a solver\u2019s stake. The set of rules could be coded into a \u201cverifier client\u201d that members of the DAO run in order to indicate when a slashing vote should be casted."),(0,r.kt)("p",null,"The second, and arguably less crucial, piece of infrastructure that is centralized in the current version is the off-chain orderbook API (also part of gp-v2-services). In order to judge over malicious behavior by a solver, participants need to agree on the state of the auction at the time of solution finding (e.g. the set of valid orders at this point in time)."),(0,r.kt)("h3",{id:"phase-3"},"Phase 3"),(0,r.kt)("p",null,"In phase 3 we hope the centrally hosted orderbook changes to a distributed p2p client network. Consensus could be reached:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"by a native client implementation,"),(0,r.kt)("li",{parentName:"ul"},"by making Cow Protocol a first party citizen in Ethereum nodes (e.g. OpenEthereum) or"),(0,r.kt)("li",{parentName:"ul"},"by piggy-backing on a cheap side chain or test network (e.g. GnosisChain) for data availability")))}u.isMDXComponent=!0}}]);