"use strict";(self.webpackChunkcow_docs=self.webpackChunkcow_docs||[]).push([[7132],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>h});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var c=n.createContext({}),l=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},u=function(e){var t=l(e.components);return n.createElement(c.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},f=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,c=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=l(r),f=o,h=p["".concat(c,".").concat(f)]||p[f]||d[f]||a;return r?n.createElement(h,i(i({ref:t},u),{},{components:r})):n.createElement(h,i({ref:t},u))}));function h(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,i=new Array(a);i[0]=f;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[p]="string"==typeof e?e:o,i[1]=s;for(var l=2;l<a;l++)i[l]=r[l];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}f.displayName="MDXCreateElement"},6804:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>s,toc:()=>l});var n=r(7462),o=(r(7294),r(3905));const a={},i="4. Placing the order",s={unversionedId:"tutorials/how-to-submit-orders-via-the-api/placing-the-order",id:"tutorials/how-to-submit-orders-via-the-api/placing-the-order",title:"4. Placing the order",description:"Order creation is happening via a POST request to the following endpoint:",source:"@site/docs/5_tutorials/how-to-submit-orders-via-the-api/5.-placing-the-order.md",sourceDirName:"5_tutorials/how-to-submit-orders-via-the-api",slug:"/tutorials/how-to-submit-orders-via-the-api/placing-the-order",permalink:"/cow-docs/docs/tutorials/how-to-submit-orders-via-the-api/placing-the-order",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/5_tutorials/how-to-submit-orders-via-the-api/5.-placing-the-order.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"3. Signing the order",permalink:"/cow-docs/docs/tutorials/how-to-submit-orders-via-the-api/signing-the-order"},next:{title:"5. Checking order status",permalink:"/cow-docs/docs/tutorials/how-to-submit-orders-via-the-api/checking-order-status"}},c={},l=[],u={toc:l},p="wrapper";function d(e){let{components:t,...r}=e;return(0,o.kt)(p,(0,n.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"4-placing-the-order"},"4. Placing the order"),(0,o.kt)("p",null,"Order creation is happening via a POST request to the following endpoint:"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"https://api.cow.fi/mainnet/api/v1/orders"},"https://api.cow.fi/mainnet/api/v1/orders"))),(0,o.kt)("p",null,"The payload needs to be a json encoded object. Our example order would look like this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},'{\n  "sellToken": "0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",\n  "buyToken": "0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",\n  "sellAmount": "10000000000",\n  "buyAmount": "4959721654652700610",\n  "receiver": "0x0000000000000000000000000000000000000000",\n  "validTo": 1628035200,\n  "appData": "0xf785fae7a7c5abc49f3cd6a61f6df1ff26433392b066ee9ff2240ff1eb7ab6e4",\n  "feeAmount": "14075734",\n  "kind": "sell",\n  "partiallyFillable": false,\n  "sellTokenBalance": "erc20",\n  "buyTokenBalance": "erc20",\n  "signingScheme": "ethsign",\n  "signature": <0x encoded signature from step 4>\n  "from": "0x55fe002aeff02f77364de339a1292923a15844b8"\n}\n')),(0,o.kt)("p",null,"Note, that ",(0,o.kt)("strong",{parentName:"p"},"uint256 fields need to be encoded as long decimal strings")," instead of numbers (validTo however as an integer)."),(0,o.kt)("p",null,"Receiver is optional. If funds are intended to be sent to another account, zero address indicates receiver is same as signer."),(0,o.kt)("p",null,"The trader address is automatically derived from the signature and thus also optional. **** Since creating a signature can be prone to errors, we advise you specify the address you intended to use for signing nonetheless so that our API can give you a better error message in case the signature doesn't recover to the expected owner."),(0,o.kt)("p",null,'By default, funds will be taken from your account via the Vault Relayer and proceeds will be sent to your receiving account. For sell token balance, you can also chose to use your existing Balancer v2 vault\'s allowance ("external") or internal Balancer v2 balance ("internal"). In this case you don\'t need to set the VaultRelayer approval from step 1. The buy token can also be transferred into your internal Balancer v2 Vault balance by specifying "buyTokenBalance": "internal".'),(0,o.kt)("p",null,"In case of success the API should return the order UID which you can use to track the status of your order either in the ",(0,o.kt)("a",{parentName:"p",href:"https://explorer.cow.fi"},"Cow Explorer"),", or programmatically below:\\"))}d.isMDXComponent=!0}}]);